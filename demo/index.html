<html>

<head>
    <!-- IE11 does support addEventListener(). Disable compatibility mode. -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

    <!-- Load a custom font -->
    <link href="https://fonts.googleapis.com/css?family=Caveat" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,600" rel="stylesheet">

    <!-- The main js library -->
    <script src="./js/jquery-autotag-1.4.js"></script>

    <!-- Required for input area to appear correctly across browsers -->
    <link rel="stylesheet" type="text/css" href="./css/jquery-autotag.css">

    <!-- Demo page styles -->
    <link rel="stylesheet" type="text/css" href="./css/demo.css">
    <link rel="stylesheet" type="text/css" href="./css/tooltip.css">
    <link rel="stylesheet" type="text/css" href="./css/notepad.css">
    <link rel="stylesheet" type="text/css" href="./css/icons.css">
    <link rel="stylesheet" type="text/css" href="./css/menu.css">
</head>

<body>
    <div class="page-header">
        <div class="page-title">jquery-autotag.js</div>
        <div class="page-msg">
            A simple and lightweight (~5kb) text formatter plugin in pure Javascript.
        </div>
    </div>

    <div class="demos">
        <div class="demo-container">
            <div id="demo-menubar" class="autotag-menu">
                <span class="icon-bold autotag-menu-icon"
                    data-autotag-scope="text"
                    data-autotag-action="bold"></span>

                <span class="icon-italic autotag-menu-icon"
                    data-autotag-scope="text"
                    data-autotag-action="italic"></span>

                <span class="icon-underlined autotag-menu-icon"
                    data-autotag-scope="text"
                    data-autotag-action="underlined"></span>

                <span class="icon-color-text autotag-menu-icon"
                    data-autotag-scope="text"
                    data-autotag-action="color"></span>

                <span class="icon-color-fill autotag-menu-icon"
                    data-autotag-scope="text"
                    data-autotag-action="fill"></span>

                <span class="icon-align-left autotag-menu-icon"
                    data-autotag-scope="line"
                    data-autotag-action="align-left"></span>

                <span class="icon-align-center autotag-menu-icon"
                    data-autotag-scope="line"
                    data-autotag-action="align-center"></span>

                <span class="icon-align-right autotag-menu-icon"
                    data-autotag-scope="line"
                    data-autotag-action="align-right"></span>

                <span class="icon-align-justify autotag-menu-icon"
                    data-autotag-scope="line"
                    data-autotag-action="align-justify"></span>
            </div>
            <div id="demo-notepad" class="demo-input notepad" contentEditable="true">
                <!-- This content was generated in the notepad -->
                <p><a class="demo-pronoun" data-tooltip="Pronoun">This</a><a>&nbsp;</a><a>is</a><a>&nbsp;</a><a>a</a><a>&nbsp;</a><a>simple</a><a>&nbsp;</a><a>notepad</a><a>&nbsp;</a><a class="demo-pronoun" data-tooltip="Pronoun">that</a><a>&nbsp;</a><a>highlights</a><a>&nbsp;</a><a>pronouns</a><a>&nbsp;</a><a>&amp;</a><a>&nbsp;</a><a>hashtags.</a><a>&nbsp;</a></p>
                <p><a>Try</a><a>&nbsp;</a><a>typing</a><a>&nbsp;</a><a>in</a><a>&nbsp;</a><a class="demo-pronoun" data-tooltip="Pronoun">something</a><a>&nbsp;</a><a>and</a><a>&nbsp;</a><a>see</a><a>&nbsp;</a><a>how</a><a>&nbsp;</a><a class="demo-pronoun" data-tooltip="Pronoun">it</a><a>&nbsp;</a><a>works!</a></p>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        $(document).ready(function() {
            var pronouns = [
                'your', 'I', 'they', 'their', 'we', 'who', 'them', 'its', 'our', 'my',
                'those', 'he', 'us', 'her', 'something', 'me', 'yourself', 'someone',
                'everything', 'itself', 'everyone', 'themselves', 'anyone', 'him',
                'whose', 'myself', 'everybody', 'ourselves', 'himself', 'somebody',
                'yours', 'herself', 'whoever', 'you', 'that', 'it', 'this', 'what',
                'which', 'these', 'his', 'she', 'lot', 'anything', 'whatever', 'nobody',
                'none', 'mine', 'anybody'
            ];

            var demo_config = {
                decorator: function(node, text) {
                    text = text.replace(/,$/, '').toLowerCase();
                    if (pronouns.indexOf(text) >= 0) {
                        node.setAttribute('class', 'demo-pronoun');
                        node.setAttribute('data-tooltip', 'Pronoun');

                    } else if (text.match(/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/)) {
                        node.setAttribute('class', 'demo-url');
                    } else if (text.match(/^#[\w]{2}[\w]*$/)) {
                        node.setAttribute('class', 'demo-hash-tag');
                    } else if (text.match(/^[\+][\w]{2}[\w]*$/)) {
                        node.setAttribute('class', 'demo-plus-sign');
                    } else {
                        // Always remember to clean the node!
                        node.removeAttribute('class');
                        node.removeAttribute('data-tooltip');
                    }
                },
                trace: false,
                ignoreReturnKey: false
            };

            var $plugin = $('#demo-notepad').autotag(demo_config);

            // Wire the menu in!
            $('#demo-menubar').delegate('.autotag-menu-icon', 'click', function() {
                var scope = $(this).data('autotag-scope');
                var action = $(this).data('autotag-action');

                // scope can be 'editor', 'line' or 'text'.
                $plugin.applyStyle(this, action, scope);
            });

        });
    </script>
</body>

</html>
