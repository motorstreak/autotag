<html>
<head>
  <!-- IE11 does support addEventListener(). Disable compatibility mode. -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

  <!-- Load a custom font -->
  <link href="https://fonts.googleapis.com/css?family=Caveat" rel="stylesheet">

  <!-- The main js library -->
  <script src="./js/jquery-autotag-1.4.js"></script>

  <!-- Required for input area to appear correctly across browsers -->
  <link rel="stylesheet" type="text/css" href="./css/jquery-autotag.css">

  <!-- Demo page styles -->
  <link rel="stylesheet" type="text/css" href="./css/demo.css">
  <link rel="stylesheet" type="text/css" href="./css/tooltip.css">
  <link rel="stylesheet" type="text/css" href="./css/paper.css">


</head>
<body>
    <div class="page-header">
        <div class="page-title">jquery-autotag.js</div>
        <div>This is a demo page. It is an eye sore. <br/>
            But that <i style="color:black">is</i> besides the point!</div>
    </div>

    <div class="demos">
      <div class="demo-container" style="display:none">
        <div class="demo-instructions">
          <b>Demo 1</b> is the default setup. <br/>
          It merely wraps words you input witin an &lt;a&gt; tag.
          Nothing fancy.
        </div>
        <!--
          Use this div as an editable area. In practice, you would probably want to
          save the contents into a textarea that is hidden, prior to POST.
         -->
        <div id="demo-1" class="demo-input demo-1-input" contentEditable="true"></div>
      </div>

      <div class="demo-container" style="display:none">
        <div class="demo-instructions">
            <b>Demo 2</b> uses a custom decorator. <br/>
            Strings that begin with a +, # or @ sign are highlighted.
            Newlines are enables in addition.
        </div>
        <div id="demo-2" class="demo-input demo-2-input" contentEditable="true"></div>
      </div>

      <div class="demo-container" style="display:none">
        <div class="demo-instructions">
            <b>Demo 3</b> highlights words from a list. <br/>
            Add "google", "yahoo" and "bing"  your sentence.
            Hover to view the matching string.
        </div>
        <div id="demo-3" class="demo-input demo-3-input" contentEditable="true"></div>
      </div>

      <div class="demo-container">
        <div class="demo-instructions">
            <b>Demo 4</b> shows off a cool notepad. <br/>
            It highlights pronouns in the text you type in.
        </div>
        <div id="demo-4" class="demo-input demo-4-input" contentEditable="true"></div>
      </div>
  </div>

  <script type="text/javascript">
    $(document).ready(function(){

        // Demo 1
        // By default, the plugin does not set focus on the editable element.
        // You can either uncomment the line in plugin or just call focus().
        $('#demo-1').autotag().focus();

        // Demo 2
        // Configure a custom decorator that recognizes
        // strings that begin with a + sign and applies some css style
        // to the token text that follows.
        var demo_2_config = {
            decorator: function(node, text) {
                if (text.match(/^[\+][\w]+/)) {
                    node.setAttribute('class', 'demo-2-plus-sign');
                } else if (text.match(/^[\#][\w]+/)) {
                    node.setAttribute('class', 'demo-2-hash-tag');
                } else if (text.match(/^[\@][\w]+/)) {
                    node.setAttribute('class', 'demo-2-at-tag');
                } else {
                    // Always remember to clean the node!
                    node.removeAttribute('class');
                }
                return node;
            }
        };
        $('#demo-2').autotag(demo_2_config);

        // Demo 3
        // Highlight based on a given set of strings.
        var urls = {
            'google' : 'https://wwww.google.com',
            'yahoo' : 'https://www.yahoo.com',
            'bing' : 'https://www.bing.com'
        };

        var pronouns = [
            'your','I','they','their','we','who','them','its','our','my',
            'those','he','us','her','something','me','yourself','someone',
            'everything','itself','everyone','themselves','anyone','him',
            'whose','myself','everybody','ourselves','himself','somebody',
            'yours','herself','whoever','you','that','it','this','what',
            'which','these','his','she','lot','anything','whatever','nobody',
            'none','mine','anybody'
        ];

        var demo_3_4_config = {
            decorator: function(node, text) {
                text = text.replace(/,$/, '')
                Object.keys(urls).some(function(key, index){
                    if (text && text.toLowerCase().indexOf(key) !== -1) {
                        node.setAttribute('class', 'demo-3-underline');

                        // See the demo.css file on how this attribute is
                        // used to produce a simple tooltip.
                        node.setAttribute('data-tooltip', urls[key]);

                        // Break out of the loop.
                        return true;
                    } else if (pronouns.indexOf(text) >= 0) {
                        node.setAttribute('class', 'demo-3-pronoun');
                        node.setAttribute('data-tooltip', 'Pronoun');
                    } else {
                        // Always remember to clean the node!
                        node.removeAttribute('class');
                        node.removeAttribute('data-tooltip');
                    }
                });
            },
            newlineOnWrap: true,
            trace: false
        };
        $('#demo-3').autotag(demo_3_4_config);

        // Demo 4
        // Use the same splitter and decorator
        demo_3_4_config['ignoreReturnKey'] = false;
        $('#demo-4').autotag(demo_3_4_config);
    });
  </script>
</body>
</html>
